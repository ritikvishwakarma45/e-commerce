{
  "version": 3,
  "sources": ["../../../../../../node_modules/@ionic/core/dist/esm/gesture-controller-BTEOs1at.js"],
  "sourcesContent": ["/*!\r\n * (C) Ionic http://ionicframework.com - MIT License\r\n */\r\nclass GestureController {\r\n    constructor() {\r\n        this.gestureId = 0;\r\n        this.requestedStart = new Map();\r\n        this.disabledGestures = new Map();\r\n        this.disabledScroll = new Set();\r\n    }\r\n    /**\r\n     * Creates a gesture delegate based on the GestureConfig passed\r\n     */\r\n    createGesture(config) {\r\n        var _a;\r\n        return new GestureDelegate(this, this.newID(), config.name, (_a = config.priority) !== null && _a !== void 0 ? _a : 0, !!config.disableScroll);\r\n    }\r\n    /**\r\n     * Creates a blocker that will block any other gesture events from firing. Set in the ion-gesture component.\r\n     */\r\n    createBlocker(opts = {}) {\r\n        return new BlockerDelegate(this, this.newID(), opts.disable, !!opts.disableScroll);\r\n    }\r\n    start(gestureName, id, priority) {\r\n        if (!this.canStart(gestureName)) {\r\n            this.requestedStart.delete(id);\r\n            return false;\r\n        }\r\n        this.requestedStart.set(id, priority);\r\n        return true;\r\n    }\r\n    capture(gestureName, id, priority) {\r\n        if (!this.start(gestureName, id, priority)) {\r\n            return false;\r\n        }\r\n        const requestedStart = this.requestedStart;\r\n        let maxPriority = -1e4;\r\n        requestedStart.forEach((value) => {\r\n            maxPriority = Math.max(maxPriority, value);\r\n        });\r\n        if (maxPriority === priority) {\r\n            this.capturedId = id;\r\n            requestedStart.clear();\r\n            const event = new CustomEvent('ionGestureCaptured', { detail: { gestureName } });\r\n            document.dispatchEvent(event);\r\n            return true;\r\n        }\r\n        requestedStart.delete(id);\r\n        return false;\r\n    }\r\n    release(id) {\r\n        this.requestedStart.delete(id);\r\n        if (this.capturedId === id) {\r\n            this.capturedId = undefined;\r\n        }\r\n    }\r\n    disableGesture(gestureName, id) {\r\n        let set = this.disabledGestures.get(gestureName);\r\n        if (set === undefined) {\r\n            set = new Set();\r\n            this.disabledGestures.set(gestureName, set);\r\n        }\r\n        set.add(id);\r\n    }\r\n    enableGesture(gestureName, id) {\r\n        const set = this.disabledGestures.get(gestureName);\r\n        if (set !== undefined) {\r\n            set.delete(id);\r\n        }\r\n    }\r\n    disableScroll(id) {\r\n        this.disabledScroll.add(id);\r\n        if (this.disabledScroll.size === 1) {\r\n            document.body.classList.add(BACKDROP_NO_SCROLL);\r\n        }\r\n    }\r\n    enableScroll(id) {\r\n        this.disabledScroll.delete(id);\r\n        if (this.disabledScroll.size === 0) {\r\n            document.body.classList.remove(BACKDROP_NO_SCROLL);\r\n        }\r\n    }\r\n    canStart(gestureName) {\r\n        if (this.capturedId !== undefined) {\r\n            // a gesture already captured\r\n            return false;\r\n        }\r\n        if (this.isDisabled(gestureName)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    isCaptured() {\r\n        return this.capturedId !== undefined;\r\n    }\r\n    isScrollDisabled() {\r\n        return this.disabledScroll.size > 0;\r\n    }\r\n    isDisabled(gestureName) {\r\n        const disabled = this.disabledGestures.get(gestureName);\r\n        if (disabled && disabled.size > 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    newID() {\r\n        this.gestureId++;\r\n        return this.gestureId;\r\n    }\r\n}\r\nclass GestureDelegate {\r\n    constructor(ctrl, id, name, priority, disableScroll) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.disableScroll = disableScroll;\r\n        this.priority = priority * 1000000 + id;\r\n        this.ctrl = ctrl;\r\n    }\r\n    canStart() {\r\n        if (!this.ctrl) {\r\n            return false;\r\n        }\r\n        return this.ctrl.canStart(this.name);\r\n    }\r\n    start() {\r\n        if (!this.ctrl) {\r\n            return false;\r\n        }\r\n        return this.ctrl.start(this.name, this.id, this.priority);\r\n    }\r\n    capture() {\r\n        if (!this.ctrl) {\r\n            return false;\r\n        }\r\n        const captured = this.ctrl.capture(this.name, this.id, this.priority);\r\n        if (captured && this.disableScroll) {\r\n            this.ctrl.disableScroll(this.id);\r\n        }\r\n        return captured;\r\n    }\r\n    release() {\r\n        if (this.ctrl) {\r\n            this.ctrl.release(this.id);\r\n            if (this.disableScroll) {\r\n                this.ctrl.enableScroll(this.id);\r\n            }\r\n        }\r\n    }\r\n    destroy() {\r\n        this.release();\r\n        this.ctrl = undefined;\r\n    }\r\n}\r\nclass BlockerDelegate {\r\n    constructor(ctrl, id, disable, disableScroll) {\r\n        this.id = id;\r\n        this.disable = disable;\r\n        this.disableScroll = disableScroll;\r\n        this.ctrl = ctrl;\r\n    }\r\n    block() {\r\n        if (!this.ctrl) {\r\n            return;\r\n        }\r\n        if (this.disable) {\r\n            for (const gesture of this.disable) {\r\n                this.ctrl.disableGesture(gesture, this.id);\r\n            }\r\n        }\r\n        if (this.disableScroll) {\r\n            this.ctrl.disableScroll(this.id);\r\n        }\r\n    }\r\n    unblock() {\r\n        if (!this.ctrl) {\r\n            return;\r\n        }\r\n        if (this.disable) {\r\n            for (const gesture of this.disable) {\r\n                this.ctrl.enableGesture(gesture, this.id);\r\n            }\r\n        }\r\n        if (this.disableScroll) {\r\n            this.ctrl.enableScroll(this.id);\r\n        }\r\n    }\r\n    destroy() {\r\n        this.unblock();\r\n        this.ctrl = undefined;\r\n    }\r\n}\r\nconst BACKDROP_NO_SCROLL = 'backdrop-no-scroll';\r\nconst GESTURE_CONTROLLER = new GestureController();\r\n\r\nexport { BACKDROP_NO_SCROLL as B, GESTURE_CONTROLLER as G };\r\n"],
  "mappings": "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",
  "names": []
}
